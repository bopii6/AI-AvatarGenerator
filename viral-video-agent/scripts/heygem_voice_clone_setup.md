# HeyGem 声音克隆（本地）部署说明

当前桌面端已支持两种口播音频生成方式：

1) 预置音色：使用腾讯云 TTS（无需本地服务）
2) 克隆我的声音：使用 HeyGem 的音频服务（需在本机启动 Docker）

> 说明：声音克隆需要用户先训练 HeyGem 模型（可以用 10–30 秒自拍视频素材），训练完成后桌面端会读取模型并进行“我的声音”合成。

## 1. 安装与启动 HeyGem

按 HeyGem 官方仓库说明部署并启动（Docker）：

- `https://github.com/GuijiAI/HeyGem.ai`

确保音频端口可用（默认）：

- 音频服务：`18180`
- 视频服务：`8383`

## 2. 配置桌面端环境变量

在你的 `.env`（或系统环境变量）里配置：

- `HEYGEM_BASE_URL=http://127.0.0.1`
- `HEYGEM_AUDIO_PORT=18180`
- `HEYGEM_VIDEO_PORT=8383`
- `HEYGEM_DATA_PATH=D:\\duix_avatar_data`（按你的实际路径）

> 注意：这里不需要 Cookie，也不涉及用户账号；每个用户在自己电脑上训练/保存自己的声音模型即可。

## 3. 使用流程（桌面端）

1) 先训练 HeyGem 模型（你可以继续用现有的训练入口/脚本；训练完成会生成模型文件）
2) 进入桌面端 `音频生成` → 选择 `克隆我的声音`
3) 选择你的模型 → 点击 `生成音频`
4) 到 `口播数字人分身` 用该音频生成视频

